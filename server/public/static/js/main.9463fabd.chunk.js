(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{31:function(e,n,t){e.exports=t(50)},36:function(e,n,t){},38:function(e,n,t){},41:function(e,n,t){},46:function(e,n,t){},47:function(e,n,t){},48:function(e,n,t){},50:function(e,n,t){"use strict";t.r(n);var a=t(1),r=t.n(a),o=t(24),l=t.n(o),c=(t(36),t(11)),u=t(5),i=t(18),m=t(17),s=t(51),d=t(25),b=(t(38),function(e){return e.showIf?r.a.createElement("div",{className:"loader"},r.a.createElement("div",{className:"circular-progress"})):null}),f=function(e){var n=e.showIf,t=e.authors;return n?r.a.createElement(a.Fragment,null,t.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))):null},h=t(13);function E(){var e=Object(h.a)(["\nmutation AddBook($name: String!, $genre: String!, $authorId: String!){\n    addBook(name:$name, genre: $genre, authorId: $authorId){\n        name\n        id\n    }\n}\n"]);return E=function(){return e},e}function k(){var e=Object(h.a)(["\nquery GetBook($id: ID!){\n    book(id: $id) {\n        id\n        name\n        genre\n        author {\n            id\n            name\n            dateOfBirth\n            books {\n                name\n                id\n            }\n        }\n    }\n}\n"]);return k=function(){return e},e}function v(){var e=Object(h.a)(["\n{\n    authors{\n        name\n        id\n    }\n}\n"]);return v=function(){return e},e}function g(){var e=Object(h.a)(["\n{\n    books{\n        name\n        id\n    }\n}\n"]);return g=function(){return e},e}var p=Object(c.b)(g()),I=Object(c.b)(v()),O=Object(c.b)(k()),j=Object(c.b)(E()),w=(t(41),{name:"",genre:"",authorId:""}),y=Object(d.flowRight)(Object(s.a)(I,{name:"authorsQuery"}),Object(s.a)(j,{name:"addBookMutation"}))((function(e){var n=e.authorsQuery,t=e.addBookMutation,o=Object(a.useState)(w),l=Object(m.a)(o,2),c=l[0],u=l[1],s=n.loading,d=n.authors;return r.a.createElement(a.Fragment,null,r.a.createElement("form",{id:"add-book",onSubmit:function(e){e.preventDefault();var n=c.name,a=c.genre,r=c.authorId;t({variables:{name:n,genre:a,authorId:r},refetchQueries:[{query:p}]})}},r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Book name:"),r.a.createElement("input",{type:"text",onChange:function(e){return u(Object(i.a)({},c,{name:e.target.value}))}})),r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Genre:"),r.a.createElement("input",{type:"text",onChange:function(e){return u(Object(i.a)({},c,{genre:e.target.value}))}})),r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Author:"),r.a.createElement("select",{onChange:function(e){return u(Object(i.a)({},c,{authorId:e.target.value}))}},r.a.createElement("option",null,"Select author"),r.a.createElement(f,{showIf:!s,authors:d}))),r.a.createElement("button",{type:"submit"},"+")),r.a.createElement(b,{showIf:s}))})),B=t(30),S=t.n(B),$=(t(46),function(e){var n=e.book,t=e.bookSelected,a=e.setBookSelected;if(!n)return null;var o=n.name,l=n.id,c=S()({"book-list-button":!0,selected:t===l});return r.a.createElement("li",{className:c,onClick:function(e){return a(l)}},o)}),N=function(e){var n=e.showIf,t=e.book;if(!n)return null;var o=t.genre,l=t.author;return r.a.createElement(a.Fragment,null,r.a.createElement("p",null,o),r.a.createElement("p",null,l.name),r.a.createElement("p",null,"All books by this author:"),r.a.createElement("ul",{className:"other-books"},l.books.map((function(e){return r.a.createElement("li",{key:e.id},e.name)}))))},F=(t(47),Object(s.a)(O,{options:function(e){return{variables:{id:e.bookId}}}})((function(e){var n=e.showIf,t=e.data;if(!n)return null;var a=t.book,o=t.loading;return r.a.createElement("div",{id:"book-details"},r.a.createElement(N,{showIf:!o&&a,book:a}),r.a.createElement(b,{showIf:o}))}))),C=(t(48),function(e){var n=e.books,t=Object(a.useState)(null),o=Object(m.a)(t,2),l=o[0],c=o[1];return n?r.a.createElement("ul",{id:"book-list"},n.map((function(e){return r.a.createElement(a.Fragment,{key:e.id},r.a.createElement($,{book:e,bookSelected:l,setBookSelected:c}),r.a.createElement(F,{showIf:l===e.id,bookId:e.id}))}))):null}),q=Object(s.a)(p)((function(e){var n=e.data,t=n.books,o=n.loading;return r.a.createElement(a.Fragment,null,r.a.createElement(C,{books:t}),r.a.createElement(b,{showIf:o}))})),x=new c.a({uri:"http://localhost:8080/graphql"});var A=function(){return r.a.createElement("div",{id:"main"},r.a.createElement("h1",null,"Book's List"),r.a.createElement(u.b,{client:x},r.a.createElement(y,null),r.a.createElement(q,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[31,1,2]]]);
//# sourceMappingURL=main.9463fabd.chunk.js.map